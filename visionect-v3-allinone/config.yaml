name: Visionect Server v3 (All-in-One)
version: "7.6.5-11"
slug: visionect_v3_allinone
description: "Visionect Server v3 + PostgreSQL + Redis"
url: "https://github.com/Adam7411/visionect-v3-allinone"

arch:
  - amd64
  - aarch64
  - armv7

startup: services
boot: auto
init: false

# Ingress
ingress: true
ingress_port: 8081
ingress_stream: true
panel_icon: mdi:tablet
panel_title: "Visionect Server"

# (Opcjonalnie możesz zostawić webui/watchdog; nie są wymagane przy ingress)
webui: "http://[HOST]:[PORT:8081]"
watchdog: "http://[HOST]:[PORT:8081]"

# Jeśli chcesz używać TYLKO ingress, możesz wyłączyć publikację portu 8081:
# ports:
#   "11113/tcp": 11113
# ports_description:
#   "11113/tcp": "Visionect device port"

# Jeśli chcesz nadal mieć dostęp bezpośredni po porcie 8081, zostaw jak było:
ports:
  "8081/tcp": 8081
  "11113/tcp": 11113
ports_description:
  "8081/tcp": "Visionect Management UI"
  "11113/tcp": "Visionect device port"

privileged:
  - SYS_ADMIN
apparmor: false
devices:
  - /dev/fuse

schema:
  postgres_user: str
  postgres_password: str
  postgres_db: str
  visionect_server_address: str
  timezone: str?
  bind_address: str?
options:
  postgres_user: "visionect"
  postgres_password: "visionect"
  postgres_db: "koala"
  visionect_server_address: "localhost"
  timezone: "auto"
  bind_address: "0.0.0.0"
